<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout Form</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f9fa;
            margin: 0;
            padding: 20px;
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
        }

        p {
            text-align: center;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
        }

        .right {
            display: flex;
            gap: 40px;
            align-items: flex-start;
        }

        .form-container {
            flex: 2;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }

        h2,
        h3 {
            margin-top: 20px;
        }

        label {
            display: block;
            margin: 8px 0 4px;
            font-weight: bold;
        }

        input[type="text"],
        input[type="email"],
        input[type="date"],
        textarea,
        select {
            width: 100%;
            padding: 6px 8px;
            font-size: 13px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            margin-bottom: 12px;
            box-sizing: border-box;
        }

        textarea {
            resize: vertical;
            min-height: 60px;
        }

        input[type="checkbox"],
        input[type="radio"] {
            margin-right: 6px;
        }

        label.inline {
            display: inline-block;
            margin-bottom: 8px;
            font-weight: normal;
        }

        small {
            color: #6c757d;
            font-size: 12px;
        }

        input[type="submit"] {
            display: block;
            width: 100%;
            background-color: #0d6efd;
            color: white;
            border: none;
            padding: 12px 0;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
            font-size: 16px;
        }

        input[type="submit"]:hover {
            background-color: #0b5ed7;
        }

        .row {
            display: flex;
            gap: 10px;
        }

        .row div {
            flex: 1;
        }

        .cart-container {
            flex: 1;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }

        .products {
            list-style: none;
            padding: 0;
            margin: 0 0 15px 0;
        }

        .products li {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
        }

        .products li:last-child {
            font-weight: bold;
        }

        h6 {
            font-size: 14px;
            margin: 0;
        }

        .products small {
            display: block;
            color: #6c757d;
            font-size: 12px;
        }

        .promo-row {
            display: flex;
            gap: 10px;
        }

        .promo-row input {
            flex: 1;
        }

        .promo-row button {
            padding: 8px 12px;
            border: none;
            background: #0d6efd;
            color: white;
            border-radius: 4px;
            cursor: pointer;
        }

        .promo-row button:hover {
            background: #0b5ed7;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Checkout form</h1>
        <p>Example form with validation and JS events</p>

        <div class="right">

            <!-- 왼쪽 form -->
            <div class="form-container">
                <form id="checkoutForm">
                    <h2>Billing address</h2>

                    <div class="row">
                        <div>
                            <label for="firstname">First name</label>
                            <input type="text" id="firstname" required minlength="2" onmouseover="highlightField(this)"
                                onmouseout="resetField(this)" onkeydown="keyAlert()">
                        </div>
                        <div>
                            <label for="lastname">Last name</label>
                            <input type="text" id="lastname" required minlength="2"
                                onchange="alert('Last name이 변경되었습니다.')">
                        </div>
                    </div>

                    <label for="username">Username</label>
                    <input type="text" id="username" required onchange="alert('Username이 변경되었습니다.')">

                    <label for="email">Email (Optional)</label>
                    <input type="email" id="email" placeholder="you@example.com">

                    <label for="address">Address</label>
                    <textarea id="address" required placeholder="1234 Main St"></textarea>

                    <label for="address2">Address 2 (Optional)</label>
                    <textarea id="address2" placeholder="Apartment or suite"></textarea>

                    <label for="birthdate">Birthdate</label>
                    <input type="date" id="birthdate" required>

                    <div class="row">
                        <div>
                            <label for="country">Country</label>
                            <select id="country" required>
                                <option value="">Choose...</option>
                                <option value="US">United States</option>
                            </select>
                        </div>
                        <div>
                            <label for="state">State</label>
                            <select id="state" required>
                                <option value="">Choose...</option>
                                <option value="california">California</option>
                            </select>
                        </div>
                        <div>
                            <label for="zip">Zip</label>
                            <input type="text" id="zip" pattern="\d{5}" title="우편번호는 숫자 5자리야" required>
                        </div>
                    </div>

                    <div>
                        <input type="checkbox" id="info1">
                        <label for="info1" class="inline">Shipping address is the same as my billing address</label>
                    </div>
                    <div>
                        <input type="checkbox" id="info2">
                        <label for="info2" class="inline">Save this information for next time</label>
                    </div>

                    <h3>Payment</h3>
                    <div>
                        <input type="radio" id="creditcard" name="payment" required>
                        <label for="creditcard" class="inline">Credit card</label>
                    </div>
                    <div>
                        <input type="radio" id="debitcard" name="payment">
                        <label for="debitcard" class="inline">Debit card</label>
                    </div>
                    <div>
                        <input type="radio" id="paypal" name="payment">
                        <label for="paypal" class="inline">PayPal</label>
                    </div>

                    <div class="row">
                        <div>
                            <label for="nameoncard">Name on card</label>
                            <input type="text" id="nameoncard" required>
                            <small>Full name as displayed on card</small>
                        </div>
                        <div>
                            <label for="creditcardnumber">Credit card number</label>
                            <input type="text" id="creditcardnumber" pattern="\d{13,19}" title="카드번호는 숫자 13~19자리"
                                required>
                        </div>
                    </div>

                    <div class="row">
                        <div>
                            <label for="expiration">Expiration</label>
                            <input type="text" id="expiration" placeholder="MM/YY" required>
                        </div>
                        <div>
                            <label for="cvv">CVV</label>
                            <input type="text" id="cvv" pattern="\d{3,4}" title="3~4자리 숫자" required>
                        </div>
                    </div>

                    <input type="submit" value="Continue to checkout">
                </form>
            </div>

            <!-- 오른쪽 cart -->
            <div class="cart-container">
                <h4>Your cart</h4>
                <ul class="products">
                    <li>
                        <div>
                            <h6>Product name</h6>
                            <small>Brief description</small>
                        </div>
                        <span>$12</span>
                    </li>
                    <li>
                        <div>
                            <h6>Second product</h6>
                            <small>Brief description</small>
                        </div>
                        <span>$8</span>
                    </li>
                    <li>
                        <div>
                            <h6>Third item</h6>
                            <small>Brief description</small>
                        </div>
                        <span>$5</span>
                    </li>
                    <li>
                        <div>
                            <h6>Promo code</h6>
                            <small>EXAMPLECODE</small>
                        </div>
                        <span>- $5</span>
                    </li>
                    <li>
                        <div>
                            <h6>Total (USD)</h6>
                        </div>
                        <span>$20</span>
                    </li>
                </ul>

                <div class="promo-row">
                    <input type="text" placeholder="Promo code">
                    <button type="submit">Redeem</button>
                </div>
            </div>

        </div>
    </div>

    <script>
        const form = document.getElementById('checkoutForm');

        // 입력창 하이라이트
        function highlightField(el) {
            el.style.backgroundColor = "#e6f0ff";
        }

        function resetField(el) {
            el.style.backgroundColor = "white";
        }

        function keyAlert() {
            console.log("키보드 입력 감지!");
        }

        form.addEventListener('submit', function (e) {
            e.preventDefault();

            // HTML5 기본 검증
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }

            // 커스텀 규칙: 카드 이름은 두 단어 이상
            const nameOnCard = document.getElementById('nameoncard');
            if (nameOnCard.value.trim().split(/\s+/).length < 2) {
                nameOnCard.setCustomValidity('카드에 있는 전체 이름(성+이름)을 입력해줘');
                nameOnCard.reportValidity();
                return;
            } else {
                nameOnCard.setCustomValidity('');
            }

            // 제출 확인
            if (confirm("입력한 정보를 제출하시겠습니까?")) {
                alert("제출 완료!");
                form.submit();
            } else {
                alert("제출 취소됨");
            }
        });
    </script>
</body>

</html>